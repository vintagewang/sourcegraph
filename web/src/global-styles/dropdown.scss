@import './variables';

.dropdown {
    position: relative;
}

$caret-width: 0.3rem;
@mixin caret($direction: down) {
    &::after {
        display: inline-block;
        margin-left: $caret-width * 0.85;
        vertical-align: $caret-width * 0.85;
        content: '';

        border-top: $caret-width solid;
        border-right: $caret-width solid transparent;
        border-bottom: 0;
        border-left: $caret-width solid transparent;
    }
    &:empty::after {
        margin-left: 0;
    }
}
.dropdown-toggle {
    white-space: nowrap;
    @include caret;
}

$dropdown-padding-y: $spacer/2;
$dropdown-spacer: $spacer/2;
$dropdown-item-padding-y: $spacer/2;
$dropdown-item-padding-x: $spacer * 1.5;

.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    z-index: $zindex-dropdown;
    display: none;
    min-width: 8rem;
    padding: $dropdown-padding-y 0;
    margin: $dropdown-spacer 0 0; // override default ul
    color: var(--body-color);
    text-align: left; // Ensures proper alignment if parent has it changed (e.g., modal footer)
    list-style: none;
    background-color: var(--body-bg);
    background-clip: padding-box;
    border: 1px solid var(--border-color);

    &.show {
        display: block;
    }
}

.dropdown-item,
.dropdown-item-text {
    display: block;
    width: 100%;
    padding: $dropdown-item-padding-y $dropdown-item-padding-x;
    font-size: var(--font-size-base);
    color: var(--text-body);
}
.dropdown-item {
    white-space: nowrap;

    // For <buttons>:
    text-align: inherit;
    background-color: transparent;
    border: 0;

    &:hover,
    &:focus {
        text-decoration: none;
        color: var(--text-body);
        background-color: var(--bg-muted);
    }
}

.dropdown-header {
    display: block;
    padding: $dropdown-padding-y $dropdown-item-padding-x;
    margin-bottom: 0; // for h1..h6
    font-size: var(--font-size-sm);
    font-weight: normal;
    color: var(--dropdown-header-color);
    white-space: nowrap;
}

@mixin nav-divider($color: var(--border-color), $margin-y: $dropdown-spacer) {
    height: 0;
    margin: $margin-y 0;
    overflow: hidden;
    border-top: 1px solid $color;
}
.dropdown-divider {
    @include nav-divider;
}
